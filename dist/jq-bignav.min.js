!function(t){t.fn.bigNav=function(s){var n=t.extend({navButtonClass:"bignav-trigger",navTextOpen:"Open",navTextClose:"Close",subNavTextOpen:"+",subNavTextClose:"-",subtractHeight:0,offsetTop:0,onOpen:function(t){return!1},beforeOnClose:function(t){return!1},onClose:function(t){return!1}},s),e=t(this),i=t("."+n.navButtonClass);i.hasClass("bignav-trigger")||i.addClass("bignav-trigger"),e.hasClass("bignav")||e.addClass("bignav");var o=t("html").css("overflow");return t.extend(e,new function(){var s=this;this.init=function(){return i.removeClass("hidden"),i.html(n.navTextOpen).addClass("bignav-closed"),i.unbind().on("click",function(t){t.preventDefault(),i.hasClass("bignav-closed")?(i.addClass("bignav-open").removeClass("bignav-closed").html(n.navTextClose),s.openClick()):(i.removeClass("bignav-open").addClass("bignav-closed").html(n.navTextOpen),s.closeClick())}),s.subNavs(),setTimeout(function(){e.addClass("hidden")},500),s},this.openClick=function(){return t("body").prepend('<div class="bignav-background" />'),t(".bignav-background").css({height:t(window).height(),width:t(window).width(),background:"white"}),e.removeClass("hidden"),setTimeout(function(){e.addClass("bignav-open"),t(document).trigger("bignav-open")},5),t("html").css({overflow:"hidden","margin-right":s.getScrollBarWidth()+"px"}),t("body").css({position:"fixed","overflow-y":"hidden",width:"100%",height:"100%","-webkit-overflow-scrolling":"touch"}),s.setHeight(),n.onOpen(s.getData()),!1},this.closeClick=function(){return e.addClass("bignav-closing"),n.beforeOnClose(s.getData()),e.removeClass("bignav-open bignav-closing"),t("html").css({overflow:o,"margin-right":0}),t("body").css({position:"static","overflow-y":"auto",width:"auto",height:"auto","-webkit-overflow-scrolling":"touch"}),t(".bignav-background").css({background:"transparent"}),setTimeout(function(){t(".bignav-background").remove()},500),setTimeout(function(){e.addClass("hidden")},500),n.onClose(s.getData()),!1},this.setHeight=function(){var t=n.subtractHeight;if(0!==n.offsetTop&&(e.css({top:n.offsetTop}),t=n.subtractHeight+n.offsetTop),0!==t){e.css({height:"100%"});var s=e.height();e.css({height:s-t+"px"})}return!1},this.subNavs=function(){return e.find("ul.sub-nav, ul.sub-menu").each(function(){var e=t(this);t(this).hasClass("auto-open")||t(this).parent().hasClass("auto-open")?(console.log("hello world"),e.toggleClass("sub-open"),s.showSubNav(e,1,250),e.after('<span class="bignav-sub-open">'+n.subNavTextClose+"</span>")):e.after('<span class="bignav-sub-open">'+n.subNavTextOpen+"</span>"),e.next().on("click",function(){e.toggleClass("sub-open"),e.hasClass("sub-open")?(t(this).html(n.subNavTextClose),s.showSubNav(e,1)):(t(this).html(n.subNavTextOpen),s.showSubNav(e,0))})}),!1},this.showSubNav=function(s,n,e){e=void 0!==e?e:0;var i=s.height(),o=s.parents(".sub-nav");return 1==n&&(o.length>0&&setTimeout(function(){t(o[0]).css({"max-height":t(o[0]).height()+i+"px"})},e),s.hasClass("no-transition")||(s.css({display:"block","max-height":0,transition:"none"}),setTimeout(function(){s.css({"max-height":i+"px",transition:"max-height 0.15s ease-out"})},1))),0==n&&(s.hasClass("no-transition")||(s.css({"max-height":0,transition:"max-height 0.15s ease-in"}),setTimeout(function(){s.css({"max-height":i+"px",display:"none",transition:"none"})},155))),!1},this.getData=function(){return{navHeight:e.height(),scrollBarWidth:s.getScrollBarWidth()}},this.update=function(i){if(void 0!==n)return s.closeClick(),n=t.extend(n,i),e.bigNav(n)},this.getScrollBarWidth=function(){var s=t("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),n=t("<div>").css({width:"100%"}).appendTo(s).outerWidth();return s.remove(),100-n}}),e.init()}}(jQuery);