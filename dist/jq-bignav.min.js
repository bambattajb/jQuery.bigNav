!function(a){a.fn.bigNav=function(b){function c(){var b=this;this.init=function(){return f.removeClass("hidden"),f.html(d.navTextOpen).addClass("bignav-closed"),f.unbind().on("click",function(a){a.preventDefault(),f.hasClass("bignav-closed")?(f.addClass("bignav-open").removeClass("bignav-closed").html(d.navTextClose),b.openClick()):(f.removeClass("bignav-open").addClass("bignav-closed").html(d.navTextOpen),b.closeClick())}),b.subNavs(),b},this.openClick=function(){return e.addClass("bignav-open"),a("html").css({overflow:"hidden","margin-right":b.getScrollBarWidth()+"px"}),a("body").css({position:"fixed","overflow-y":"hidden",width:"100%",height:"100%","-webkit-overflow-scrolling":"touch"}),b.setHeight(),d.onOpen(b.getData()),!1},this.closeClick=function(){return e.addClass("bignav-closing"),d.beforeOnClose(b.getData()),e.removeClass("bignav-open bignav-closing"),a("html").css({overflow:g,"margin-right":0}),a("body").css({position:"static","overflow-y":"auto",width:"auto",height:"auto","-webkit-overflow-scrolling":"touch"}),d.onClose(b.getData()),!1},this.setHeight=function(){var a=d.subtractHeight;if(0!==d.offsetTop&&(e.css({top:d.offsetTop}),a=d.subtractHeight+d.offsetTop),0!==a){e.css({height:"100%"});var b=e.height();e.css({height:b-a+"px"})}return!1},this.subNavs=function(){var c=e.find("ul.sub-nav, ul.sub-menu");return c.each(function(){var c=a(this);c.after('<span class="bignav-sub-open">'+d.subNavTextOpen+"</span>"),c.next().on("click",function(){c.toggleClass("sub-open"),c.hasClass("sub-open")?(a(this).html(d.subNavTextClose),b.showSubNav(c,1)):(a(this).html(d.subNavTextOpen),b.showSubNav(c,0))})}),!1},this.showSubNav=function(a,b){var c=a.height();return 1==b&&(a.css({display:"block","max-height":0,transition:"none"}),setTimeout(function(){a.css({"max-height":c+"px",transition:"max-height 0.15s ease-out"})},1)),0==b&&(a.css({"max-height":0,transition:"max-height 0.15s ease-in"}),setTimeout(function(){a.css({"max-height":c+"px",display:"none",transition:"none"})},155)),!1},this.getData=function(){return{navHeight:e.height(),scrollBarWidth:b.getScrollBarWidth()}},this.update=function(c){if("undefined"!=typeof d)return b.closeClick(),d=a.extend(d,c),e.bigNav(d)},this.getScrollBarWidth=function(){var b=a("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),c=a("<div>").css({width:"100%"}).appendTo(b).outerWidth();return b.remove(),100-c}}var d=a.extend({navButtonClass:"bignav-trigger",navTextOpen:"Open",navTextClose:"Close",subNavTextOpen:"+",subNavTextClose:"-",subtractHeight:0,offsetTop:0,onOpen:function(a){return!1},beforeOnClose:function(a){return!1},onClose:function(a){return!1}},b),e=a(this);e.removeClass("hidden");var f=a("."+d.navButtonClass);f.hasClass("bignav-trigger")||f.addClass("bignav-trigger"),e.hasClass("bignav")||e.addClass("bignav");var g=a("html").css("overflow");return a.extend(e,new c),e.init()}}(jQuery);